!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("HoverOnTouch",[],t):"object"==typeof exports?exports.HoverOnTouch=t():e.HoverOnTouch=t()}(this,function(){return function(e){function t(o){if(r[o])return r[o].exports;var n=r[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,o){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={getClosest:function(e,t){for(var r=t.charAt(0);e&&e!==document;e=e.parentNode){if("."===r&&e.classList.contains(t.substr(1)))return e;if("#"===r&&e.id===t.substr(1))return e;if("["===r&&e.hasAttribute(t.substr(1,t.length-2)))return e;if(e.tagName.toLowerCase()===t)return e}return!1},getGifs:function(e){var t=[],r=!0,o=!1,n=void 0;try{for(var s,u=e[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var i=s.value;"gif"===i.src.split(".").pop()&&t.push(i)}}catch(e){o=!0,n=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw n}}return t.length>0&&t},restartGifs:function(e){var t=!0,r=!1,o=void 0;try{for(var n,s=e[Symbol.iterator]();!(t=(n=s.next()).done);t=!0){var u=n.value,i=u.src;u.src="#/",u.src=i}}catch(e){r=!0,o=e}finally{try{!t&&s.return&&s.return()}finally{if(r)throw o}}}},e.exports=t.default},function(e,t,r){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),s=r(0),u=function(e){return e&&e.__esModule?e:{default:e}}(s),i=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e),this.name="hoverontouch",this.opts={activeClass:this.name+"--aktiv"},Object.assign(this.opts,t),this.device={isTouch:"ontouchstart"in window||navigator.maxTouchPoints},console.log(this.device),this.vars={currentHoveredElement:null,pressTimer:null,longpress:!1,scrollStartX:0,scrollStartY:0,multipleTouchAmount:0,multiTouchGesture:!1},this.domElements=document.querySelectorAll(".hoverontouch"),this.init()}return n(e,[{key:"init",value:function(){this.bindAll(),this.parseElements()}},{key:"bindAll",value:function(){var e=this;["mouseenterHoverontouch","mouseeoutHoverontouch","mouseupHoverontouch","touchstartHoverontouch","touchendHoverontouch"].forEach(function(t){return e[t]=e[t].bind(e)})}},{key:"parseElements",value:function(){var e=!0,t=!1,r=void 0;try{for(var o,n=this.domElements[Symbol.iterator]();!(e=(o=n.next()).done);e=!0){var s=o.value;s.imgs=s.querySelectorAll("img"),s.gifs=u.default.getGifs(s.imgs),s.style.cssText="-webkit-tap-highlight-color: rgba(0,0,0,0); \n                          -webkit-user-select: none; \n                          -webkit-touch-callout: none;";var i=!0,a=!1,l=void 0;try{for(var c,h=s.imgs[Symbol.iterator]();!(i=(c=h.next()).done);i=!0){c.value.style.cssText="pointer-events: none;"}}catch(e){a=!0,l=e}finally{try{!i&&h.return&&h.return()}finally{if(a)throw l}}if("A"===s.tagName&&this.device.isTouch){var v=s.getAttribute("href");v&&(s.setAttribute("data-link",v),s.removeAttribute("href"))}this.addElementListeners(s)}}catch(e){t=!0,r=e}finally{try{!e&&n.return&&n.return()}finally{if(t)throw r}}}},{key:"addElementListeners",value:function(e){e.addEventListener("mouseenter",this.mouseenterHoverontouch),e.addEventListener("mouseout",this.mouseeoutHoverontouch),e.addEventListener("mouseup",this.mouseupHoverontouch),this.device.isTouch&&(e.addEventListener("touchstart",this.touchstartHoverontouch),e.addEventListener("touchend",this.touchendHoverontouch))}},{key:"removeElementListeners",value:function(e){e.removeEventListener("mouseenter",this.mouseenterHoverontouch),e.removeEventListener("mouseout",this.mouseeoutHoverontouch),e.removeEventListener("mouseup",this.mouseupHoverontouch),this.device.isTouch&&(e.removeEventListener("touchstart",this.touchstartHoverontouch),e.removeEventListener("touchend",this.touchendHoverontouch))}},{key:"mouseenterHoverontouch",value:function(e){this.currentHoveredElement||(this.currentHoveredElement=u.default.getClosest(e.target,".hoverontouch"),this.currentHoveredElement.gifs&&u.default.restartGifs(this.currentHoveredElement.gifs),this.currentHoveredElement.classList.add(this.opts.activeClass))}},{key:"mouseeoutHoverontouch",value:function(){this.currentHoveredElement&&(this.currentHoveredElement.classList.remove(this.opts.activeClass),this.currentHoveredElement=null)}},{key:"mouseupHoverontouch",value:function(){}},{key:"touchstartHoverontouch",value:function(e){var t=this;this.currentHoveredElement||(console.log("what",this.currentHoveredElement),this.currentHoveredElement=u.default.getClosest(e.target,".hoverontouch"),this.vars.multipleTouchAmount=this.vars.multipleTouchAmount+1,this.vars.multipleTouchAmount>1&&(this.vars.multiTouchGesture=!0),this.currentHoveredElement.gifs&&u.default.restartGifs(this.currentHoveredElement.gifs),this.currentHoveredElement.classList.add(this.opts.activeClass),this.vars.scrollStartX=e.changedTouches[0].pageX,this.vars.scrollStartY=e.changedTouches[0].pageY,this.vars.pressTimer=window.setTimeout(function(){t.vars.longpress=!0},250))}},{key:"touchendHoverontouch",value:function(e){if(this.currentHoveredElement){if(this.currentHoveredElement.classList.remove(this.opts.activeClass),window.clearTimeout(this.vars.pressTimer),this.vars.multipleTouchAmount=Math.max(this.vars.multipleTouchAmount-1,0),console.log("longpress : "+this.vars.longpress,this.vars.multiTouchGesture,this.vars.multipleTouchAmount),!this.vars.longpress&&!this.vars.multiTouchGesture&&!this.vars.multipleTouchAmount){var t=this.vars.scrollStartX,r=e.changedTouches[0].pageX,o=Math.abs(t-r),n=e.changedTouches[0].pageY,s=this.vars.scrollStartY,u=Math.abs(s-n);if(this.vars.longpress=!1,this.currentHoveredElement.getAttribute("data-link")&&u<=5&&o<=5){var i=this.currentHoveredElement.getAttribute("data-link");window.location.href=i}}this.vars.longpress=!1,0===this.multipleTouchAmount&&(this.multiTouchGesture=!1),this.currentHoveredElement=null,e.preventDefault(),e.stopPropagation()}}},{key:"destroy",value:function(){var e=!0,t=!1,r=void 0;try{for(var o,n=this.domElements[Symbol.iterator]();!(e=(o=n.next()).done);e=!0){var s=o.value;this.removeElementListeners(s)}}catch(e){t=!0,r=e}finally{try{!e&&n.return&&n.return()}finally{if(t)throw r}}}}]),e}();t.default=i,e.exports=t.default}])});